{% extends 'main/pattern.html' %}

{% load static %}

{% block title %}News{% endblock %}

{% block content %}
    <div class="content">
        <!-- {% if not articles %}
            <h1 id="no_article">There are no articles :(</h1>
        {% else %}
            {% for article in articles %}
                <div class="card">
                    <h3>#{{article.id}} {{article.title}}</h3>
                    <p>{{article.anounce}}</p>
                    <br>
                    <hr>
                    <p>{{ article.author.username }}</p>
                    <p>{{ article.date }}</p>
                    <a href="{% url 'post_detail' article.id %}" id="get-details">Подробнее</a>
                </div>
            {% endfor %}
        {% endif %} -->

        {% if not articles %}
            <h1>No articles yet :(</h1>
        {% else %}
                {% for article in articles %}
                    <div class="post_block">
                        <div class="post_content">
                            <div class="post_data">
                                <span class="post_author">
                                    {% if article.author.id == request.user.id %}
                                        <a href="{% url 'me' %}">
                                            <i class="fa-solid fa-user"></i>{{ article.author.username }}
                                        </a>
                                    {% else %}
                                        <a href="{% url 'author_detail' article.author.id %}">
                                            <i class="fa-solid fa-user"></i>{{ article.author.username }}
                                        </a>
                                    {% endif %}
                                </span>
                                <span class="post_date">{{ article.date }}</span>
                            </div>
                        </div>

                        <a href="{% url 'post_detail' article.id %}" class="link_post_block">
                            <div class="post_content">
                                <h1>{{ article.title }}</h1>
                                <p>{{ article.anounce }}</p>
                            </div>

                            {% if article.image %}
                                <div class="post_image">
                                    <img src="{{ article.image.url }}" alt="">
                                </div>
                            {% endif %}
                        </a>

                        <div class="post_controls">
                            <span class="like_btn">
                                <i class="fa-regular fa-heart"></i>
                            </span>
                        </div>
                    </div>
                {% endfor %}
        {% endif %}

    </div>
{% endblock %}